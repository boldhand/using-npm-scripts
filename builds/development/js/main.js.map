{"version":3,"sources":["process/main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["/* ==============================================================\r\n// in search get from json to list\r\n============================================================== */\r\n// Get the Data Function\r\nfunction getData(url, callback) {\r\n  var xmlhttp = new XMLHttpRequest();\r\n  xmlhttp.onreadystatechange = function() {\r\n    if (xmlhttp.readyState==4 && xmlhttp.status==200) {\r\n      var data = JSON.parse(xmlhttp.responseText);\r\n      callback(data);\r\n    }\r\n  };\r\n  xmlhttp.open('GET', url, true);\r\n  xmlhttp.send();\r\n}\r\n\r\n// On Search\r\nvar search = document.getElementById(\"search\");\r\nsearch.addEventListener('keyup', function(event){\r\n  var searchField = document.getElementById(\"search\").value;\r\n\tvar myExp = new RegExp(searchField, \"i\");\r\n  /* clearing the results event if user press Backspace */\r\n\tif (!this.value.trim()) {\r\n\t\tclearSuggestions();\r\n\t\treturn;\r\n\t}\r\n  // Output data in List items\r\n  getData('https://restcountries.eu/rest/v1', function(data) {\r\n    var output = '';\r\n    for(var i=0; i < data.length; i++) {\r\n      var item = data[i];\r\n      if (item.name.search(myExp) != -1) {\r\n        output += '<li class=\"search__suggestion\">' + item.name + '</li>';\r\n      }\r\n    }\r\n\t\tdocument.getElementById(\"suggestions\").innerHTML = output;\r\n  });\r\n});\r\n/* ==============================================================\r\n//Add item to history on click an item in the sugested items\r\n============================================================== */\r\nvar suggestions = document.getElementById('suggestions');\r\nsuggestions.addEventListener('click', function(event) {\r\n\tif(event.target && event.target.nodeName == 'LI') {\r\n\t\tvar searchTerm = event.target.innerText;\r\n\t\tcreateSearchResult(searchTerm);\r\n\t\tclearSuggestions();\r\n\t\temptyInput();\r\n\t}\r\n});\r\n/* ==============================================================\r\n// EVENTS: Add item to history on Enter on the search input fields\r\n============================================================== */\r\nvar search = document.getElementById('search');\r\nsearch.addEventListener('keydown', function(event){\r\n\tif(event.keyCode == 13){ //Enter Key\r\n\t\tvar searchTerm = search.value;\r\n\r\n\t\tif (search.value) { // if not empty\r\n\t\t\tcreateSearchResult(searchTerm);\r\n\t\t\tclearSuggestions();\r\n\t\t\temptyInput();\r\n\t\t}\r\n  }\r\n});\r\n/* ==============================================================\r\n//creating the list history\r\n============================================================== */\r\nfunction createSearchResult(searchTerm) {\r\n  var ul = document.getElementById('history');\r\n  var li = document.createElement('li');\r\n\tvar h2 = document.createElement('h2');\r\n\th2.innerText = searchTerm;\r\n\tli.appendChild(h2);\r\n  li.appendChild(dateStamp());\r\n  li.appendChild(createRemoveButton());\r\n  ul.appendChild(li);\r\n}\r\n/* ==============================================================\r\n//Clear sugestions\r\n============================================================== */\r\nfunction clearSuggestions() {\r\n\tvar suggestions = document.getElementById('suggestions');\r\n\twhile (suggestions.firstChild) suggestions.removeChild(suggestions.firstChild);\r\n}\r\n/* ==============================================================\r\n//Clear Input\r\n============================================================== */\r\nfunction emptyInput() {\r\n\tvar search = document.getElementById('search');\r\n\tsearch.value = '';\r\n}\r\n/* ==============================================================\r\n//Timestamp string\r\n============================================================== */\r\nfunction timeStampHistory() {\r\n  var now = new Date();\r\n  var day = (now.getDate() < 10 ? '0' : '') + now.getDate();\r\n  var month = (now.getMonth() + 1 < 10 ? '0' : '') + (now.getMonth() + 1);\r\n  var year = now.getFullYear();\r\n  var hours = (now.getHours() < 10 ? '0' : '') + now.getHours();\r\n  var minutes = (now.getMinutes() < 10 ? '0' : '') + now.getMinutes();\r\n  return year + '-' + month + '-' + day + ' ' + hours + ':' + minutes;\r\n}\r\nfunction dateStamp() {\r\n\tvar stamp = document.createElement('time');\r\n\tstamp.innerText = timeStampHistory();\r\n\treturn stamp;\r\n}\r\n/* ==============================================================\r\n//Remove button and its Functionality\r\n============================================================== */\r\nfunction createRemoveButton() {\r\n  var button = document.createElement('button');\r\n  button.className = 'remove-item';\r\n  button.addEventListener('click', function(event) {\r\n      var removeItem = event.target.parentNode;\r\n      removeItem.parentNode.removeChild(removeItem);\r\n  });\r\n  return button;\r\n};\r\n\r\n\r\n"]}