{"version":3,"sources":["process/main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["/* ==============================================================\n// in search get from json to list\n============================================================== */\nvar search = document.getElementById(\"search\");\nsearch.addEventListener('keyup', function(event){\n\n\t//clear results if the value is blank or starts with space\n\tif (!this.value.trim()) {\n\t\tclearUpdate();\n\t\treturn;\n\t}\n\n\tvar searchField = document.getElementById(\"search\").value;\n\tvar myExp = new RegExp(searchField, \"i\");\n\n\tfunction fetchfile(path, callback) {\n    var httpRequest = new XMLHttpRequest();\n    httpRequest.onreadystatechange = function() {\n        if (this.readyState === 4 && this.status === 200) {\n\t\t\tvar data = JSON.parse(this.responseText);\n\t\t\tif (callback) callback(data);\n        }\n    };\n    httpRequest.open('GET', path, true);\n    httpRequest.send(); \n\t}\n\tfetchfile('https://restcountries.eu/rest/v1', function(data){\n\t\tvar output = '<ul id=\"searchresults\">';\n\t\t$.each(data, function(key, val) {\n\t\t\tif ((val.name.search(myExp) != -1) || (val.capital.search(myExp) != -1)) {\n\t\t\t\toutput += '<li tabindex=\"1\">';\n\t\t\t\toutput += val.name + ', ' + val.capital;\n\t\t\t\toutput += '</li>';\n\t\t\t}\n\t\t});\n\t\toutput += '</ul>';\n\t\t$('#update').html(output);\n\t});\n});\n/* ==============================================================\n//Add item to history on click an item in the sugested items\n============================================================== */\nvar update = document.getElementById('update');\nupdate.addEventListener(\"click\", function(event) {\n\tif(event.target && event.target.nodeName == \"LI\") {\n\t\tvar searchString = event.target.innerText;\n\t\tcreateSearchResult(searchString);\n\t\tclearUpdate();\n\t\temptyInput();\n\t}\n});\n/* ==============================================================\n// EVENTS: Add item to history on Enter on the search input fields\n============================================================== */\nvar search = document.getElementById(\"search\");\nsearch.addEventListener('keydown', function(event){\n\tif(event.keyCode == 13){ //Enter Key\n\t\tvar searchString = search.value;\n    \t\n\t\tif (search.value) { // if not empty\n\t\t\tcreateSearchResult(searchString);\n\t\t\tclearUpdate();\n\t\t\temptyInput();\n\t\t}\n    }\n});\t\n/* ==============================================================\n//creating the list history\n============================================================== */\nfunction createSearchResult(searchString) {\n    var ul = document.getElementById('history');\n\t\n    var li = document.createElement('li');\n\n\tvar h2 = document.createElement('h2');\n\th2.innerText = searchString;\n\tli.appendChild(h2);\n\n    li.appendChild(dateStamp());\n    li.appendChild(createRemoveButton());\n\n    ul.appendChild(li);\n}\n/* ==============================================================\n//Clear sugestions\n============================================================== */\nfunction clearUpdate() {\n\tvar update = document.getElementById('update');\n\twhile (update.firstChild) update.removeChild(update.firstChild);\n}\n/* ==============================================================\n//Clear Input\n============================================================== */\nfunction emptyInput() {\n\tvar search = document.getElementById(\"search\");\n\tsearch.value = '';\n}\n/* ==============================================================\n//Timestamp string\n============================================================== */\nfunction timeStampHistory() {\n    var now = new Date();\n    var day = (now.getDate() < 10 ? '0' : '') + now.getDate();\n    var month = (now.getMonth() + 1 < 10 ? '0' : '') + (now.getMonth() + 1);\n    var year = now.getFullYear();\n    var hours = (now.getHours() < 10 ? '0' : '') + now.getHours();\n    var minutes = (now.getMinutes() < 10 ? '0' : '') + now.getMinutes();\n    return year + '-' + month + '-' + day + ' ' + hours + ':' + minutes;\n}\nfunction dateStamp() {\n\tvar stamp = document.createElement('time');\n\tstamp.innerText = timeStampHistory();\n\treturn stamp;\n}\n/* ==============================================================\n//Remove button and its Functionality\n============================================================== */\nfunction createRemoveButton() {\n    var button = document.createElement('button');\n    button.className = \"remove-item\";\n    button.addEventListener('click', function(event) {\n        event.target.parentNode.remove();\n    });\n    return button;\n};\n/* ==============================================================\n//Listeners\n============================================================== */\n\n\n\n\n\n\n\n\n// var search = document.getElementById(\"search\");\n// search.addEventListener('keydown', function(event){\n// \tif(event.keyCode == 40){ //down Key\n// \t\tvar firstList = document.getElementsByTagName(\"li\")[0];\n// \t\tfirstList.classList.add(\"selected\");\n//     }\n// });\n\n\n\n\n\n\n\n\n\n\n// $('#search').on('keydown', function(e){\t\n// \tvar $listItems = $('#update li');\n//     var key = e.keyCode,\n//         $selected = $listItems.filter('.selected'),\n//         $current;\n\n//     $listItems.removeClass('selected');\n\n\t\t\n// \t\tvar menu = $('#searchresults');\n\t\n// \t\tif ( key == 40 ) // Down key\n// \t\t{\n// \t\t\tif ( ! $selected.length || $selected.is(':last-child') ) {\n// \t\t\t\t$current = $listItems.eq(0);\n// \t\t\t}\n// \t\t\telse {\n// \t\t\t\t$current = $selected.next();\n// \t\t\t}\t\n\t\t\t\n// \t\t\t$current.addClass('selected');\t\t\t\n// \t\t}\n\t\t\n// \t\tif ( key == 38 ) // Up key\n// \t\t{\n// \t\t\tif ( ! $selected.length || $selected.is(':first-child') ) {\n// \t\t\t\t$current = $listItems.last();\t\n// \t\t\t}\n// \t\t\telse {\n// \t\t\t\t$current = $selected.prev();\n// \t\t\t}\n// \t\t\t$current.addClass('selected');\n// \t\t}\n\t\t\t\t\n// });\n\n\n\n\n\n// $(\"#search\").keydown(function(){\n//     $(\"input\").css(\"background-color\", \"yellow\");\n// \tvar what = $('.selected').text();\n// \tconsole.log(what);\n// \tif(event.keyCode == 13){ //Enter Key\n// \t\tvar searchString = what;\n// \t\t\tcreateSearchResult(searchString);\n// \t\t\tclearUpdate();\n// \t\t\temptyInput();\n\n//     }\n// });\t"]}